document.addEventListener("DOMContentLoaded",()=>{const slides=Array.from(document.querySelectorAll(".slide"));const copySlides=Array.from(document.querySelectorAll(".copy-slide"));const copyWrap=document.getElementById("copySlides");const dotsWrap=document.getElementById("dots");const prevBtn=document.getElementById("prevBtn");const nextBtn=document.getElementById("nextBtn");if(!slides.length||slides.length!==copySlides.length)return;let current=0;let timer=null;dotsWrap.innerHTML="";slides.forEach((_,i)=>{const d=document.createElement("button");d.className="h-3 w-3 rounded-full bg-slate-300/80 transition-all duration-300";d.setAttribute("aria-label","Aller Ã  la diapositive "+(i+1));d.addEventListener("click",()=>goTo(i,!0));dotsWrap.appendChild(d)});function lockCopyHeight(){if(!copyWrap)return;let maxH=0;copySlides.forEach((el)=>{const prevPos=el.style.position;const prevOp=el.style.opacity;const prevVis=el.style.visibility;el.style.position="static";el.style.opacity="1";el.style.visibility="hidden";maxH=Math.max(maxH,el.offsetHeight);el.style.position=prevPos||"absolute";el.style.opacity=prevOp||"0";el.style.visibility=prevVis||"visible"});copyWrap.style.height=maxH+"px"}
function render(){slides.forEach((el,i)=>{el.style.opacity=i===current?"1":"0"});copySlides.forEach((el,i)=>{el.style.opacity=i===current?"1":"0";el.style.pointerEvents=i===current?"auto":"none"});Array.from(dotsWrap.children).forEach((d,i)=>{d.className=i===current?"h-3 w-10 rounded-full bg-gradient-to-r from-[#C6B2FF] to-[#B0E0FF] transition-all duration-300":"h-3 w-3 rounded-full bg-slate-300/80 transition-all duration-300"})}
function goTo(index,userAction=!1){current=(index+slides.length)%slides.length;render();if(userAction)restartAutoplay();}
function next(){goTo(current+1)}
function prev(){goTo(current-1)}
function startAutoplay(){timer=setInterval(next,8000)}
function stopAutoplay(){if(timer)clearInterval(timer);}
function restartAutoplay(){stopAutoplay();startAutoplay()}
if(prevBtn)
prevBtn.addEventListener("click",()=>{prev();restartAutoplay()});if(nextBtn)
nextBtn.addEventListener("click",()=>{next();restartAutoplay()});window.addEventListener("resize",lockCopyHeight,{passive:!0});lockCopyHeight();goTo(0);startAutoplay()});document.addEventListener("DOMContentLoaded",()=>{const mobToggle=document.getElementById("mobToggle");const mobMenu=document.getElementById("mobMenu");if(!mobToggle||!mobMenu)return;mobToggle.addEventListener("click",()=>{const willOpen=mobMenu.classList.contains("hidden");mobMenu.classList.toggle("hidden",!willOpen);mobToggle.setAttribute("aria-expanded",String(willOpen));mobToggle.classList.toggle("is-open",willOpen)});mobMenu.querySelectorAll("a[href]").forEach((a)=>{a.addEventListener("click",()=>{mobMenu.classList.add("hidden");mobToggle.setAttribute("aria-expanded","false");mobToggle.classList.remove("is-open")})})});document.addEventListener("DOMContentLoaded",()=>{const cards=document.querySelectorAll(".card-wow");cards.forEach((card)=>{const damp=18;const resetMs=250;const setVars=(e)=>{const r=card.getBoundingClientRect();const x=e.clientX-r.left;const y=e.clientY-r.top;const cx=r.width/2;const cy=r.height/2;const rx=((y-cy)/cy)*-damp;const ry=((x-cx)/cx)*damp;card.style.setProperty("--mx",(x/r.width)*100+"%");card.style.setProperty("--my",(y/r.height)*100+"%");card.style.transform=`perspective(900px) rotateX(${rx}deg) rotateY(${ry}deg) scale(1.02)`};const reset=()=>{card.style.transition=`transform ${resetMs}ms ease`;card.style.transform="perspective(900px) rotateX(0deg) rotateY(0deg) scale(1)";setTimeout(()=>{card.style.transition=""},resetMs)};card.addEventListener("mousemove",setVars);card.addEventListener("mouseenter",setVars);card.addEventListener("mouseleave",reset)})});document.addEventListener("DOMContentLoaded",()=>{const cards=document.querySelectorAll(".svc-card");const io=new IntersectionObserver((entries)=>{entries.forEach((e)=>{if(e.isIntersecting){e.target.classList.add("svc-in");io.unobserve(e.target)}})},{threshold:0.15});document.querySelectorAll(".reveal").forEach((el)=>io.observe(el));cards.forEach((card)=>{const spot=card.querySelector(".svc-spot");const damp=14;const resetMs=220;function move(e){const r=card.getBoundingClientRect();const x=e.clientX-r.left,y=e.clientY-r.top;const cx=r.width/2,cy=r.height/2;const rx=((y-cy)/cy)*-damp;const ry=((x-cx)/cx)*damp;const px=(x/r.width)*100+"%";const py=(y/r.height)*100+"%";card.style.setProperty("--mx",px);card.style.setProperty("--my",py);if(spot){spot.style.left=px;spot.style.top=py;spot.style.opacity="1"}
card.style.transform=`perspective(900px) rotateX(${rx}deg) rotateY(${ry}deg) scale(1.015)`}
function leave(){card.style.transition=`transform ${resetMs}ms ease`;card.style.transform="perspective(900px) rotateX(0) rotateY(0) scale(1)";setTimeout(()=>{card.style.transition=""},resetMs);if(spot)spot.style.opacity="0"}
function clickPop(){if(!spot)return;spot.classList.remove("svc-pop");void spot.offsetWidth;spot.classList.add("svc-pop")}
card.addEventListener("mousemove",move);card.addEventListener("mouseenter",move);card.addEventListener("mouseleave",leave);card.addEventListener("click",clickPop)})});(function(){const el=document.getElementById("cursorDots");if(!el)return;let targetX=window.innerWidth/2;let targetY=window.innerHeight/2;let curX=targetX,curY=targetY;function lerp(a,b,t){return a+(b-a)*t}
function onMove(e){targetX=e.clientX;targetY=e.clientY;document.body.classList.remove("cursor-idle")}
function onLeaveWindow(){document.body.classList.add("cursor-idle")}
function onClick(){el.classList.remove("pop");void el.offsetWidth;el.classList.add("pop")}
function tick(){curX=lerp(curX,targetX,0.18);curY=lerp(curY,targetY,0.18);el.style.left=curX+"px";el.style.top=curY+"px";requestAnimationFrame(tick)}
window.addEventListener("mousemove",onMove,{passive:!0});window.addEventListener("mousedown",onClick,{passive:!0});window.addEventListener("mouseleave",onLeaveWindow,{passive:!0});window.addEventListener("blur",onLeaveWindow);tick()})();const lerp=(a,b,t)=>a+(b-a)*t;(()=>{const wrap=document.querySelector(".wc-wrap");if(!wrap)return;let rx=0,ry=0,tx=0,ty=0,raf;const onMove=(e)=>{const rect=wrap.getBoundingClientRect();const mx=(e.clientX-rect.left)/rect.width;const my=(e.clientY-rect.top)/rect.height;rx=(my-0.5)*-6;ry=(mx-0.5)*8;cancelAnimationFrame(raf);const animate=()=>{tx=lerp(tx,rx,0.12);ty=lerp(ty,ry,0.12);wrap.style.transform=`rotateX(${tx}deg) rotateY(${ty}deg)`;if(Math.abs(tx-rx)>0.01||Math.abs(ty-ry)>0.01)
raf=requestAnimationFrame(animate);};raf=requestAnimationFrame(animate)};const reset=()=>{rx=ry=0};wrap.addEventListener("mousemove",onMove,{passive:!0});wrap.addEventListener("mouseleave",()=>{reset();onMove({clientX:0,clientY:0})})})();(()=>{const els=document.querySelectorAll(".wc-metric__value");if(!els.length)return;const ease=(t)=>1-Math.pow(1-t,3);const animateCount=(el)=>{const target=Number(el.dataset.count||0);const suffix=el.dataset.suffix||"";const plus=el.dataset.plus||"";const dur=1200;let start,raf;const tick=(ts)=>{if(!start)start=ts;const p=Math.min(1,(ts-start)/dur);const val=Math.round(ease(p)*target);el.textContent=(plus?val+plus:val)+(suffix?suffix:"");if(p<1)raf=requestAnimationFrame(tick);};raf=requestAnimationFrame(tick)};const io=new IntersectionObserver((entries,obs)=>{entries.forEach((entry)=>{if(entry.isIntersecting){animateCount(entry.target);obs.unobserve(entry.target)}})},{threshold:0.5});els.forEach((el)=>io.observe(el))})();(()=>{document.querySelectorAll(".wc-metric").forEach((card)=>{card.addEventListener("pointermove",(e)=>{const r=card.getBoundingClientRect();const mx=(((e.clientX-r.left)/r.width)*100).toFixed(2)+"%";const my=(((e.clientY-r.top)/r.height)*100).toFixed(2)+"%";card.style.setProperty("--mx",mx);card.style.setProperty("--my",my)},{passive:!0})})})();(()=>{const btn=document.querySelector("[data-confetti]");if(!btn)return;btn.addEventListener("mousemove",(e)=>{const r=btn.getBoundingClientRect();const dx=e.clientX-(r.left+r.width/2);const dy=e.clientY-(r.top+r.height/2);btn.style.transform=`translateZ(30px) translate(${dx * 0.08}px, ${dy * 0.08
      }px)`});btn.addEventListener("mouseleave",()=>{btn.style.transform=""});const confetti=(x,y,count=36)=>{const c=document.createElement("canvas");const ctx=c.getContext("2d");const dpr=Math.max(1,window.devicePixelRatio||1);const size=220;c.width=c.height=size*dpr;c.style.position="fixed";c.style.left=x-size/2+"px";c.style.top=y-size/2+"px";c.style.pointerEvents="none";c.style.width=c.style.height=size+"px";c.style.zIndex=10;document.body.appendChild(c);const colors=["#1FA2A6","#4bd0cf","#F97D45","#ffd2bf","#b9fff9","#ffffff",];const parts=new Array(count).fill().map(()=>({x:c.width/2,y:c.height/2,vx:(Math.random()*2-1)*6*dpr,vy:(Math.random()*2-1)*6*dpr-5*dpr,g:0.18*dpr,s:Math.random()*3*dpr+2*dpr,a:1,c:colors[(Math.random()*colors.length)|0],r:Math.random()*Math.PI,}));let t=0,raf;const draw=()=>{ctx.clearRect(0,0,c.width,c.height);parts.forEach((p)=>{p.vy+=p.g;p.x+=p.vx;p.y+=p.vy;p.r+=0.1;p.a-=0.015;ctx.globalAlpha=Math.max(0,p.a);ctx.save();ctx.translate(p.x,p.y);ctx.rotate(p.r);ctx.fillStyle=p.c;ctx.fillRect(-p.s/2,-p.s/2,p.s,p.s);ctx.restore()});t++;if(t<120)raf=requestAnimationFrame(draw);else{cancelAnimationFrame(raf);c.remove()}};raf=requestAnimationFrame(draw)};btn.addEventListener("click",(e)=>{const x=e.clientX,y=e.clientY;confetti(x,y)})})();document.addEventListener('DOMContentLoaded',()=>{const reveals=document.querySelectorAll('.reveal');const observer=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('is-visible');observer.unobserve(entry.target)}})},{threshold:0.25});reveals.forEach(el=>observer.observe(el))});document.addEventListener('DOMContentLoaded',()=>{const elems=document.querySelectorAll('.reveal-footer');const observer=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('is-visible');observer.unobserve(entry.target)}})},{threshold:0.15});elems.forEach(el=>observer.observe(el));const backBtn=document.getElementById('backToTop');if(backBtn){window.addEventListener('scroll',()=>{if(window.scrollY>400){backBtn.classList.add('opacity-100','backtotop-visible');backBtn.classList.remove('opacity-0','pointer-events-none')}else{backBtn.classList.remove('opacity-100','backtotop-visible');backBtn.classList.add('opacity-0','pointer-events-none')}});backBtn.addEventListener('click',()=>{window.scrollTo({top:0,behavior:'smooth'})})}});document.addEventListener("DOMContentLoaded",function(){const mainCard=document.querySelector(".br3d-main-card");const tiltWrap=document.querySelector(".br3d-tilt-wrap");const cards=document.querySelectorAll(".br3d-card");if(tiltWrap&&mainCard){const maxRotate=10;tiltWrap.addEventListener("mousemove",(e)=>{const rect=tiltWrap.getBoundingClientRect();const x=e.clientX-rect.left;const y=e.clientY-rect.top;const midX=rect.width/2;const midY=rect.height/2;const rotateY=((x-midX)/midX)*maxRotate;const rotateX=((midY-y)/midY)*maxRotate;mainCard.style.transform=`rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateZ(0)`});tiltWrap.addEventListener("mouseleave",()=>{mainCard.style.transform="rotateX(0deg) rotateY(0deg) translateZ(0)"})}
if("IntersectionObserver" in window){const observer=new IntersectionObserver((entries)=>{entries.forEach((entry)=>{if(entry.isIntersecting){entry.target.classList.add("br3d-visible");observer.unobserve(entry.target)}})},{threshold:0.18,});cards.forEach((card)=>observer.observe(card))}else{cards.forEach((card)=>card.classList.add("br3d-visible"))}});(function(){const slider=document.querySelector('.crv-slider[data-slider="main"]');if(!slider)return;const slides=slider.querySelectorAll('.crv-slide');const dotsWrap=document.querySelector('.crv-dots[data-dots="main"]');if(!dotsWrap)return;const dots=dotsWrap.querySelectorAll('.crv-dot');let index=0;function showSlide(i){slides.forEach((slide,n)=>slide.classList.toggle('crv-slide-active',n===i));dots.forEach((dot,n)=>dot.classList.toggle('crv-dot-active',n===i));index=i}
dots.forEach((dot,i)=>{dot.addEventListener('click',()=>showSlide(i))});function next(){const nextIndex=(index+1)%slides.length;showSlide(nextIndex)}
let timer=setInterval(next,4500);dots.forEach(dot=>{dot.addEventListener('click',()=>{clearInterval(timer);timer=setInterval(next,4500)})})})();document.querySelectorAll('.acc-item-header').forEach(function(btn){btn.addEventListener('click',function(){const item=btn.closest('.acc-item');const currentlyActive=item.classList.contains('acc-item-active');document.querySelectorAll('.acc-item').forEach(function(el){el.classList.remove('acc-item-active');const icon=el.querySelector('.acc-toggle-icon');if(icon)icon.textContent='+'});if(!currentlyActive){item.classList.add('acc-item-active');const icon=item.querySelector('.acc-toggle-icon');if(icon)icon.textContent='âˆ’'}})});document.addEventListener('DOMContentLoaded',()=>{const reveals=document.querySelectorAll('.pricing-reveal');const observer=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('is-visible');observer.unobserve(entry.target)}})},{threshold:0.2});reveals.forEach(el=>observer.observe(el));const toggle=document.getElementById('billingToggle');const highlight=document.getElementById('billingHighlight');const options=toggle?toggle.querySelectorAll('.billing-option'):[];const prices=document.querySelectorAll('.price');const labels=document.querySelectorAll('.price-label');let billingMode='project';const updatePrices=()=>{prices.forEach((priceEl)=>{const project=priceEl.getAttribute('data-project');const monthly=priceEl.getAttribute('data-monthly');if(billingMode==='project'){priceEl.textContent=formatNumber(project)}else{priceEl.textContent=formatNumber(monthly)}});labels.forEach((labelEl)=>{labelEl.textContent=billingMode==='project'?'/ projet':'/ mois'})};function formatNumber(value){return new Intl.NumberFormat('fr-FR').format(value)}
if(toggle&&highlight&&options.length===2){const[projectBtn,monthlyBtn]=options;const setMode=(mode)=>{billingMode=mode;if(mode==='project'){highlight.style.transform='translateX(0%)';projectBtn.classList.remove('opacity-70');projectBtn.classList.add('text-[#1A1740]');monthlyBtn.classList.add('opacity-70');monthlyBtn.classList.remove('text-[#1A1740]')}else{highlight.style.transform='translateX(100%)';monthlyBtn.classList.remove('opacity-70');monthlyBtn.classList.add('text-[#1A1740]');projectBtn.classList.add('opacity-70');projectBtn.classList.remove('text-[#1A1740]')}
updatePrices()};projectBtn.addEventListener('click',()=>setMode('project'));monthlyBtn.addEventListener('click',()=>setMode('monthly'));setMode('project')}else{updatePrices()}});document.addEventListener("DOMContentLoaded",()=>{const langBtns=Array.from(document.querySelectorAll(".lang-btn"));const langLine=document.getElementById("lang-line");const previewImg=document.getElementById("lang-preview-img");const langTexts={fr:"ðŸ‡«ðŸ‡· Votre site parle la langue de vos clients, automatiquement.",en:"ðŸ‡¬ðŸ‡§ Your website speaks your customersâ€™ language, automatically.",es:"ðŸ‡ªðŸ‡¸ Tu sitio habla el idioma de tus clientes, automÃ¡ticamente."};const langImages={fr:"assets/img/webDesign.png",en:"assets/img/ads.png",es:"assets/img/seo.png"};if(previewImg){previewImg.src=langImages.fr;previewImg.alt="Preview FranÃ§ais"}
if(langLine){langLine.textContent=langTexts.fr}
langBtns.forEach((btn)=>{btn.addEventListener("click",()=>{const lang=btn.dataset.lang;langBtns.forEach((b)=>{if(b===btn){b.classList.add("bg-white","text-slate-900");b.classList.remove("text-slate-100/80")}else{b.classList.remove("bg-white","text-slate-900");b.classList.add("text-slate-100/80")}});if(langLine){langLine.style.opacity=0;setTimeout(()=>{langLine.textContent=langTexts[lang]||langTexts.fr;langLine.style.opacity=1},150)}
if(previewImg){const newSrc=langImages[lang]||langImages.fr;previewImg.style.opacity=0;setTimeout(()=>{previewImg.src=newSrc;previewImg.alt="Preview "+(lang==="fr"?"FranÃ§ais":lang==="en"?"English":"EspaÃ±ol");previewImg.style.opacity=1},150)}})})});document.querySelectorAll("[data-year]").forEach(el=>{el.textContent=new Date().getFullYear()});(function(){const hero=document.querySelector('#about-vision');if(!hero)return;const lines=hero.querySelectorAll('.home-intro-line');hero.addEventListener('mousemove',(e)=>{const rect=hero.getBoundingClientRect();const x=(e.clientX-rect.left)/rect.width-0.5;const y=(e.clientY-rect.top)/rect.height-0.5;lines.forEach((line,index)=>{const strength=(index+1)*10;line.style.transform=`translate3d(${x * strength}px, ${y * strength}px, 0) rotate(${index === 0 ? 20 : -22}deg)`})})})();document.addEventListener('DOMContentLoaded',()=>{const els=document.querySelectorAll('[data-reveal]');const map={'fade-up':{hidden:'opacity-0 translate-y-6 scale-[0.98]',visible:'opacity-100 translate-y-0 scale-100'},'fade-in':{hidden:'opacity-0 scale-[0.97]',visible:'opacity-100 scale-100'},};els.forEach(el=>{const type=el.getAttribute('data-reveal');const conf=map[type]||map['fade-up'];el.classList.add('transition-all','duration-700','ease-out');conf.hidden.split(' ').forEach(c=>el.classList.add(c));const observer=new IntersectionObserver((entries,obs)=>{entries.forEach(entry=>{if(entry.isIntersecting){conf.hidden.split(' ').forEach(c=>el.classList.remove(c));conf.visible.split(' ').forEach(c=>el.classList.add(c));obs.unobserve(entry.target)}})},{threshold:0.2});observer.observe(el)})});document.addEventListener('DOMContentLoaded',()=>{const cards=document.querySelectorAll('[data-tilt]');cards.forEach(card=>{const strength=10;card.addEventListener('mousemove',(e)=>{const rect=card.getBoundingClientRect();const x=e.clientX-rect.left;const y=e.clientY-rect.top;const rotateY=((x/rect.width)-0.5)*strength;const rotateX=((y/rect.height)-0.5)*-strength;card.style.transform=`
          perspective(800px)
          rotateX(${rotateX}deg)
          rotateY(${rotateY}deg)
          translateY(-4px)
        `});card.addEventListener('mouseleave',()=>{card.style.transform='perspective(800px) rotateX(0deg) rotateY(0deg) translateY(0)'})})});document.addEventListener('DOMContentLoaded',()=>{const cards=document.querySelectorAll('.js-project-card');cards.forEach((card)=>{card.classList.add('card-hidden');card.addEventListener('mousemove',(e)=>{const rect=card.getBoundingClientRect();const x=e.clientX-rect.left;const y=e.clientY-rect.top;const rotateX=((y-rect.height/2)/rect.height)*-7;const rotateY=((x-rect.width/2)/rect.width)*7;card.style.transform=`rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateZ(0)`});card.addEventListener('mouseleave',()=>{card.style.transform='rotateX(0deg) rotateY(0deg) translateZ(0)'})});const observer=new IntersectionObserver((entries)=>{entries.forEach((entry)=>{if(entry.isIntersecting){const el=entry.target;el.classList.remove('card-hidden');el.classList.add('card-visible');el.style.transitionDelay=(parseInt(el.dataset.delay||'0',10))+'ms';observer.unobserve(el)}})},{threshold:0.2});cards.forEach((card,index)=>{card.dataset.delay=index*120;observer.observe(card)})});document.addEventListener('DOMContentLoaded',function(){const banner=document.getElementById('cookie-banner');if(!banner)return;const acceptBtn=banner.querySelector('.cookie-accept');const declineBtn=banner.querySelector('.cookie-decline');const consent=localStorage.getItem('cookieConsent');if(!consent){banner.classList.add('is-visible')}
acceptBtn.addEventListener('click',function(){localStorage.setItem('cookieConsent','accepted');banner.classList.remove('is-visible')});declineBtn.addEventListener('click',function(){localStorage.setItem('cookieConsent','declined');banner.classList.remove('is-visible')})});document.addEventListener('DOMContentLoaded',()=>{const form=document.getElementById('contact-form');if(!form)return;form.addEventListener('submit',function(event){event.preventDefault();const name=this.name.value.trim();const phone=this.phone.value.trim();const email=this.email.value.trim();const message=this.message.value.trim();const waText=`
Hello Technoproweb,

New message from the contact form:

Name: ${name}
Phone: ${phone}
Email: ${email}

Project / Message:
${message}
      `.trim();const waUrl='https://wa.me/212621691502?text='+encodeURIComponent(waText);window.open(waUrl,'_blank')})});document.addEventListener("DOMContentLoaded",()=>{const waBtn=document.querySelector(".wa-btn");const toggle=document.getElementById("wa-toggle");const firstLink=document.querySelector(".wa-card");waBtn.addEventListener("click",(e)=>{const rect=waBtn.getBoundingClientRect();const span=document.createElement("span");span.className="ripple";span.style.left=e.clientX-rect.left+"px";span.style.top=e.clientY-rect.top+"px";waBtn.appendChild(span);span.addEventListener("animationend",()=>span.remove())});const colors=["#25D366","#20bd5a","#0f9f46","#34e17a","#b0f0c7"];function confettiBurst(originEl){const count=26;const rect=originEl.getBoundingClientRect();const originX=rect.left+rect.width/2;const originY=rect.top+rect.height/2;for(let i=0;i<count;i++){const piece=document.createElement("div");piece.className="confetti";piece.style.background=colors[Math.floor(Math.random()*colors.length)];piece.style.borderRadius=Math.random()>0.5?"2px":"50%";piece.style.left=originX+"px";piece.style.top=originY+"px";const angle=(Math.random()*120-60)*(Math.PI/180);const velocity=6+Math.random()*10;const rotate=Math.random()*720-360;const duration=900+Math.random()*700;const driftX=Math.random()*160-80;piece.animate([{transform:`translate(0,0) rotate(0deg)`,opacity:1},{transform:`translate(${Math.cos(angle) * velocity * 8 + driftX
              }px, ${-Math.sin(angle) * velocity * 8 - 30
              }px) rotate(${rotate}deg)`,opacity:0.9,offset:0.5,},{transform:`translate(${driftX}px, 160px) rotate(${rotate * 1.6
              }deg)`,opacity:0,},],{duration,easing:"cubic-bezier(.2,.8,.2,1)",fill:"forwards"});document.body.appendChild(piece);setTimeout(()=>piece.remove(),duration+60)}}
toggle.addEventListener("change",()=>{if(toggle.checked){confettiBurst(waBtn);setTimeout(()=>firstLink?.focus?.(),200)}})})